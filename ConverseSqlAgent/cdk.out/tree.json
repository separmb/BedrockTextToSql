{"version":"tree-0.1","tree":{"id":"App","path":"","children":{"ConverseSqlAgentStack":{"id":"ConverseSqlAgentStack","path":"ConverseSqlAgentStack","children":{"DefaultVPC":{"id":"DefaultVPC","path":"ConverseSqlAgentStack/DefaultVPC","children":{"PublicSubnet1":{"id":"PublicSubnet1","path":"ConverseSqlAgentStack/DefaultVPC/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.194.0","metadata":[]}},"PublicSubnet2":{"id":"PublicSubnet2","path":"ConverseSqlAgentStack/DefaultVPC/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.194.0","metadata":[]}},"PublicSubnet3":{"id":"PublicSubnet3","path":"ConverseSqlAgentStack/DefaultVPC/PublicSubnet3","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.194.0","metadata":[]}},"PublicSubnet4":{"id":"PublicSubnet4","path":"ConverseSqlAgentStack/DefaultVPC/PublicSubnet4","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.194.0","metadata":[]}},"PublicSubnet5":{"id":"PublicSubnet5","path":"ConverseSqlAgentStack/DefaultVPC/PublicSubnet5","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.194.0","metadata":[]}},"PublicSubnet6":{"id":"PublicSubnet6","path":"ConverseSqlAgentStack/DefaultVPC/PublicSubnet6","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.194.0","metadata":[]}},"DynamoDBEndpoint":{"id":"DynamoDBEndpoint","path":"ConverseSqlAgentStack/DefaultVPC/DynamoDBEndpoint","children":{"Resource":{"id":"Resource","path":"ConverseSqlAgentStack/DefaultVPC/DynamoDBEndpoint/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"routeTableIds":[{"Ref":"NewPrivateSubnet0RouteTable838DDC9F"},{"Ref":"NewPrivateSubnet1RouteTable96A18886"},{"Ref":"NewPrivateSubnet2RouteTable73A6DC6B"},{"Ref":"NewPrivateSubnet3RouteTable4152B981"},{"Ref":"NewPrivateSubnet4RouteTableC0B4F604"},{"Ref":"NewPrivateSubnet5RouteTable20561108"}],"serviceName":{"Fn::Join":["",["com.amazonaws.",{"Ref":"AWS::Region"},".dynamodb"]]},"vpcEndpointType":"Gateway","vpcId":"vpc-0478b09b88b05919e"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.194.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.GatewayVpcEndpoint","version":"2.194.0","metadata":[]}},"SecretsManagerEndpoint":{"id":"SecretsManagerEndpoint","path":"ConverseSqlAgentStack/DefaultVPC/SecretsManagerEndpoint","children":{"Resource":{"id":"Resource","path":"ConverseSqlAgentStack/DefaultVPC/SecretsManagerEndpoint/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["SharedSecurityGroupA3C42D70","GroupId"]}],"serviceName":"com.amazonaws.us-east-1.secretsmanager","subnetIds":[{"Ref":"NewPrivateSubnet0SubnetA4A9D5B6"},{"Ref":"NewPrivateSubnet1Subnet545D8116"},{"Ref":"NewPrivateSubnet2Subnet58D70B0B"},{"Ref":"NewPrivateSubnet3SubnetA975ED87"},{"Ref":"NewPrivateSubnet4Subnet8324B678"},{"Ref":"NewPrivateSubnet5Subnet8255FDA5"}],"vpcEndpointType":"Interface","vpcId":"vpc-0478b09b88b05919e"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.194.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.194.0","metadata":[]}},"BedrockEndpoint":{"id":"BedrockEndpoint","path":"ConverseSqlAgentStack/DefaultVPC/BedrockEndpoint","children":{"Resource":{"id":"Resource","path":"ConverseSqlAgentStack/DefaultVPC/BedrockEndpoint/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["SharedSecurityGroupA3C42D70","GroupId"]}],"serviceName":"com.amazonaws.us-east-1.bedrock-runtime","subnetIds":[{"Ref":"NewPrivateSubnet0SubnetA4A9D5B6"},{"Ref":"NewPrivateSubnet1Subnet545D8116"},{"Ref":"NewPrivateSubnet2Subnet58D70B0B"},{"Ref":"NewPrivateSubnet3SubnetA975ED87"},{"Ref":"NewPrivateSubnet4Subnet8324B678"},{"Ref":"NewPrivateSubnet5Subnet8255FDA5"}],"vpcEndpointType":"Interface","vpcId":"vpc-0478b09b88b05919e"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.194.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.194.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.194.0","metadata":[]}},"NewPrivateSubnet0":{"id":"NewPrivateSubnet0","path":"ConverseSqlAgentStack/NewPrivateSubnet0","children":{"Subnet":{"id":"Subnet","path":"ConverseSqlAgentStack/NewPrivateSubnet0/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1a","cidrBlock":"172.31.96.0/20","tags":[{"key":"Name","value":"ConverseSqlAgentStack/NewPrivateSubnet0"}],"vpcId":"vpc-0478b09b88b05919e"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.194.0"}},"Acl":{"id":"Acl","path":"ConverseSqlAgentStack/NewPrivateSubnet0/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.194.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ConverseSqlAgentStack/NewPrivateSubnet0/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ConverseSqlAgentStack/NewPrivateSubnet0"}],"vpcId":"vpc-0478b09b88b05919e"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.194.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ConverseSqlAgentStack/NewPrivateSubnet0/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NewPrivateSubnet0RouteTable838DDC9F"},"subnetId":{"Ref":"NewPrivateSubnet0SubnetA4A9D5B6"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.194.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.194.0","metadata":[]}},"NewPrivateSubnet1":{"id":"NewPrivateSubnet1","path":"ConverseSqlAgentStack/NewPrivateSubnet1","children":{"Subnet":{"id":"Subnet","path":"ConverseSqlAgentStack/NewPrivateSubnet1/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1b","cidrBlock":"172.31.112.0/20","tags":[{"key":"Name","value":"ConverseSqlAgentStack/NewPrivateSubnet1"}],"vpcId":"vpc-0478b09b88b05919e"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.194.0"}},"Acl":{"id":"Acl","path":"ConverseSqlAgentStack/NewPrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.194.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ConverseSqlAgentStack/NewPrivateSubnet1/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ConverseSqlAgentStack/NewPrivateSubnet1"}],"vpcId":"vpc-0478b09b88b05919e"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.194.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ConverseSqlAgentStack/NewPrivateSubnet1/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NewPrivateSubnet1RouteTable96A18886"},"subnetId":{"Ref":"NewPrivateSubnet1Subnet545D8116"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.194.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.194.0","metadata":[]}},"NewPrivateSubnet2":{"id":"NewPrivateSubnet2","path":"ConverseSqlAgentStack/NewPrivateSubnet2","children":{"Subnet":{"id":"Subnet","path":"ConverseSqlAgentStack/NewPrivateSubnet2/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1c","cidrBlock":"172.31.128.0/20","tags":[{"key":"Name","value":"ConverseSqlAgentStack/NewPrivateSubnet2"}],"vpcId":"vpc-0478b09b88b05919e"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.194.0"}},"Acl":{"id":"Acl","path":"ConverseSqlAgentStack/NewPrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.194.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ConverseSqlAgentStack/NewPrivateSubnet2/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ConverseSqlAgentStack/NewPrivateSubnet2"}],"vpcId":"vpc-0478b09b88b05919e"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.194.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ConverseSqlAgentStack/NewPrivateSubnet2/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NewPrivateSubnet2RouteTable73A6DC6B"},"subnetId":{"Ref":"NewPrivateSubnet2Subnet58D70B0B"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.194.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.194.0","metadata":[]}},"NewPrivateSubnet3":{"id":"NewPrivateSubnet3","path":"ConverseSqlAgentStack/NewPrivateSubnet3","children":{"Subnet":{"id":"Subnet","path":"ConverseSqlAgentStack/NewPrivateSubnet3/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1d","cidrBlock":"172.31.144.0/20","tags":[{"key":"Name","value":"ConverseSqlAgentStack/NewPrivateSubnet3"}],"vpcId":"vpc-0478b09b88b05919e"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.194.0"}},"Acl":{"id":"Acl","path":"ConverseSqlAgentStack/NewPrivateSubnet3/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.194.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ConverseSqlAgentStack/NewPrivateSubnet3/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ConverseSqlAgentStack/NewPrivateSubnet3"}],"vpcId":"vpc-0478b09b88b05919e"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.194.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ConverseSqlAgentStack/NewPrivateSubnet3/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NewPrivateSubnet3RouteTable4152B981"},"subnetId":{"Ref":"NewPrivateSubnet3SubnetA975ED87"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.194.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.194.0","metadata":[]}},"NewPrivateSubnet4":{"id":"NewPrivateSubnet4","path":"ConverseSqlAgentStack/NewPrivateSubnet4","children":{"Subnet":{"id":"Subnet","path":"ConverseSqlAgentStack/NewPrivateSubnet4/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1e","cidrBlock":"172.31.160.0/20","tags":[{"key":"Name","value":"ConverseSqlAgentStack/NewPrivateSubnet4"}],"vpcId":"vpc-0478b09b88b05919e"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.194.0"}},"Acl":{"id":"Acl","path":"ConverseSqlAgentStack/NewPrivateSubnet4/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.194.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ConverseSqlAgentStack/NewPrivateSubnet4/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ConverseSqlAgentStack/NewPrivateSubnet4"}],"vpcId":"vpc-0478b09b88b05919e"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.194.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ConverseSqlAgentStack/NewPrivateSubnet4/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NewPrivateSubnet4RouteTableC0B4F604"},"subnetId":{"Ref":"NewPrivateSubnet4Subnet8324B678"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.194.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.194.0","metadata":[]}},"NewPrivateSubnet5":{"id":"NewPrivateSubnet5","path":"ConverseSqlAgentStack/NewPrivateSubnet5","children":{"Subnet":{"id":"Subnet","path":"ConverseSqlAgentStack/NewPrivateSubnet5/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1f","cidrBlock":"172.31.176.0/20","tags":[{"key":"Name","value":"ConverseSqlAgentStack/NewPrivateSubnet5"}],"vpcId":"vpc-0478b09b88b05919e"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.194.0"}},"Acl":{"id":"Acl","path":"ConverseSqlAgentStack/NewPrivateSubnet5/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.194.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ConverseSqlAgentStack/NewPrivateSubnet5/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ConverseSqlAgentStack/NewPrivateSubnet5"}],"vpcId":"vpc-0478b09b88b05919e"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.194.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ConverseSqlAgentStack/NewPrivateSubnet5/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NewPrivateSubnet5RouteTable20561108"},"subnetId":{"Ref":"NewPrivateSubnet5Subnet8255FDA5"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.194.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.194.0","metadata":[]}},"TEXT2SQLTable":{"id":"TEXT2SQLTable","path":"ConverseSqlAgentStack/TEXT2SQLTable","children":{"Resource":{"id":"Resource","path":"ConverseSqlAgentStack/TEXT2SQLTable/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"id","keyType":"HASH"}],"tableName":"advtext2sql_memory_tb"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.194.0"}},"ScalingRole":{"id":"ScalingRole","path":"ConverseSqlAgentStack/TEXT2SQLTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.194.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.194.0","metadata":[]}},"DBSecret":{"id":"DBSecret","path":"ConverseSqlAgentStack/DBSecret","children":{"Resource":{"id":"Resource","path":"ConverseSqlAgentStack/DBSecret/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"generateSecretString":{"excludePunctuation":true,"generateStringKey":"password","includeSpace":false,"secretStringTemplate":"{\"username\": \"admin\"}"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.194.0"}},"Attachment":{"id":"Attachment","path":"ConverseSqlAgentStack/DBSecret/Attachment","children":{"Resource":{"id":"Resource","path":"ConverseSqlAgentStack/DBSecret/Attachment/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::SecretTargetAttachment","aws:cdk:cloudformation:props":{"secretId":{"Ref":"DBSecretD58955BC"},"targetId":{"Ref":"MyRDSInstance48FD439C"},"targetType":"AWS::RDS::DBInstance"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecretTargetAttachment","version":"2.194.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.SecretTargetAttachment","version":"2.194.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.194.0","metadata":[]}},"DBSubnetGroup":{"id":"DBSubnetGroup","path":"ConverseSqlAgentStack/DBSubnetGroup","children":{"Default":{"id":"Default","path":"ConverseSqlAgentStack/DBSubnetGroup/Default","attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Subnet group for RDS database","subnetIds":[{"Ref":"NewPrivateSubnet0SubnetA4A9D5B6"},{"Ref":"NewPrivateSubnet1Subnet545D8116"},{"Ref":"NewPrivateSubnet2Subnet58D70B0B"},{"Ref":"NewPrivateSubnet3SubnetA975ED87"},{"Ref":"NewPrivateSubnet4Subnet8324B678"},{"Ref":"NewPrivateSubnet5Subnet8255FDA5"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBSubnetGroup","version":"2.194.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.SubnetGroup","version":"2.194.0","metadata":[]}},"SharedSecurityGroup":{"id":"SharedSecurityGroup","path":"ConverseSqlAgentStack/SharedSecurityGroup","children":{"Resource":{"id":"Resource","path":"ConverseSqlAgentStack/SharedSecurityGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for RDS and Lambda","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":"172.31.0.0/16","ipProtocol":"-1","description":"Allow all inbound traffic from VPC CIDR"},{"cidrIp":"172.31.0.0/16","ipProtocol":"tcp","fromPort":443,"toPort":443,"description":"from 172.31.0.0/16:443"}],"vpcId":"vpc-0478b09b88b05919e"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.194.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.194.0","metadata":[]}},"MyRDSInstance":{"id":"MyRDSInstance","path":"ConverseSqlAgentStack/MyRDSInstance","children":{"Resource":{"id":"Resource","path":"ConverseSqlAgentStack/MyRDSInstance/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBInstance","aws:cdk:cloudformation:props":{"allocatedStorage":"20","copyTagsToSnapshot":true,"dbInstanceClass":"db.t3.micro","dbInstanceIdentifier":"myrdsdatabase","dbSubnetGroupName":{"Ref":"DBSubnetGroup"},"deleteAutomatedBackups":true,"deletionProtection":false,"engine":"mysql","masterUsername":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"DBSecretD58955BC"},":SecretString:username::}}"]]},"masterUserPassword":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"DBSecretD58955BC"},":SecretString:password::}}"]]},"maxAllocatedStorage":100,"multiAz":false,"publiclyAccessible":false,"storageType":"gp2","vpcSecurityGroups":[{"Fn::GetAtt":["SharedSecurityGroupA3C42D70","GroupId"]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBInstance","version":"2.194.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseInstance","version":"2.194.0","metadata":[]}},"LambdaRole":{"id":"LambdaRole","path":"ConverseSqlAgentStack/LambdaRole","children":{"ImportLambdaRole":{"id":"ImportLambdaRole","path":"ConverseSqlAgentStack/LambdaRole/ImportLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.194.0","metadata":[]}},"Resource":{"id":"Resource","path":"ConverseSqlAgentStack/LambdaRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.194.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ConverseSqlAgentStack/LambdaRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"ConverseSqlAgentStack/LambdaRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["TEXT2SQLTable17335E23","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue"],"Effect":"Allow","Resource":{"Ref":"DBSecretD58955BC"}},{"Action":"bedrock:InvokeModel","Effect":"Allow","Resource":"arn:aws:bedrock:us-east-1::foundation-model/anthropic.claude-3-sonnet-20240229-v1:0"}],"Version":"2012-10-17"},"policyName":"LambdaRoleDefaultPolicy75625A82","roles":[{"Ref":"LambdaRole3A44B857"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.194.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.194.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.194.0","metadata":[]}},"psycopg2_final":{"id":"psycopg2_final","path":"ConverseSqlAgentStack/psycopg2_final","children":{"Code":{"id":"Code","path":"ConverseSqlAgentStack/psycopg2_final/Code","children":{"Stage":{"id":"Stage","path":"ConverseSqlAgentStack/psycopg2_final/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.194.0"}},"AssetBucket":{"id":"AssetBucket","path":"ConverseSqlAgentStack/psycopg2_final/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.194.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.194.0"}},"Resource":{"id":"Resource","path":"ConverseSqlAgentStack/psycopg2_final/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"compatibleRuntimes":["python3.11"],"content":{"s3Bucket":"cdk-hnb659fds-assets-589528729908-us-east-1","s3Key":"70671c765afc022aab04fa889620eb11d492a78271ddc8760ea62323b2bf7982.zip"},"layerName":"layer_content"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.194.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.LayerVersion","version":"2.194.0","metadata":[]}},"SQLAgentFunction":{"id":"SQLAgentFunction","path":"ConverseSqlAgentStack/SQLAgentFunction","children":{"Code":{"id":"Code","path":"ConverseSqlAgentStack/SQLAgentFunction/Code","children":{"Stage":{"id":"Stage","path":"ConverseSqlAgentStack/SQLAgentFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.194.0"}},"AssetBucket":{"id":"AssetBucket","path":"ConverseSqlAgentStack/SQLAgentFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.194.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.194.0"}},"Resource":{"id":"Resource","path":"ConverseSqlAgentStack/SQLAgentFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-589528729908-us-east-1","s3Key":"bc593feb315397c20d4dc754e591a43ef690b5ed5f03211cb698a465e1b870d7.zip"},"environment":{"variables":{"DynamoDbMemoryTable":{"Ref":"TEXT2SQLTable17335E23"},"BedrockModelId":"anthropic.claude-3-sonnet-20240229-v1:0"}},"ephemeralStorage":{"size":2048},"functionName":"sqlagent","handler":"lambda_function.lambda_handler","layers":[{"Ref":"psycopg2final5AA29775"}],"memorySize":1024,"role":{"Fn::GetAtt":["LambdaRole3A44B857","Arn"]},"runtime":"python3.11","timeout":900,"vpcConfig":{"subnetIds":[{"Ref":"NewPrivateSubnet0SubnetA4A9D5B6"},{"Ref":"NewPrivateSubnet1Subnet545D8116"},{"Ref":"NewPrivateSubnet2Subnet58D70B0B"},{"Ref":"NewPrivateSubnet3SubnetA975ED87"},{"Ref":"NewPrivateSubnet4Subnet8324B678"},{"Ref":"NewPrivateSubnet5Subnet8255FDA5"}],"securityGroupIds":[{"Fn::GetAtt":["SharedSecurityGroupA3C42D70","GroupId"]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.194.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.194.0","metadata":[]}},"CDKMetadata":{"id":"CDKMetadata","path":"ConverseSqlAgentStack/CDKMetadata","children":{"Default":{"id":"Default","path":"ConverseSqlAgentStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.194.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ConverseSqlAgentStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.194.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ConverseSqlAgentStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.194.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.194.0"}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}}},"constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.194.0"}}}